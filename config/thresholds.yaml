# config/thresholds.yaml
# Centralized threshold values for screening, health-check, and portfolio modules.
# Each section maps to a logical domain; keys are referenced via
#   from src.core._thresholds import th
#   th("health", "rsi_prev_threshold", 50)
# The third argument (default) must always match the value here so that
# the system works even when the YAML file is missing.

# ---------------------------------------------------------------------------
# Health check (src/core/health_check.py)
# ---------------------------------------------------------------------------
health:
  sma_approaching_gap: 0.02        # SMA50 within 2% of SMA200
  rsi_prev_threshold: 50           # Previous RSI level for drop detection
  rsi_drop_threshold: 40           # Current RSI level indicating a drop
  cross_lookback: 60               # Trading days to scan for cross events

  # Long-term suitability (KIK-371)
  lt_roe_high: 0.15
  lt_roe_low: 0.10
  lt_eps_growth_high: 0.10
  lt_dividend_high: 0.02
  lt_per_overvalued: 40
  lt_per_safe: 25

# ---------------------------------------------------------------------------
# Return estimation (src/core/return_estimate.py)
# ---------------------------------------------------------------------------
estimate:
  return_cap: 0.30                 # Max annualized return cap (+/-30%)
  min_spread: 0.05                 # Minimum spread for scenarios

# ---------------------------------------------------------------------------
# Technicals / pullback screening (src/core/screening/technicals.py)
# ---------------------------------------------------------------------------
technicals:
  pullback_min: -0.20              # Pullback lower bound (from recent high)
  pullback_max: -0.05              # Pullback upper bound
  rsi_reversal_lo: 25.0            # RSI reversal zone lower
  rsi_reversal_hi: 50.0            # RSI reversal zone upper
  rsi_depth_lo: 25.0               # RSI depth bonus lower
  rsi_depth_hi: 35.0               # RSI depth bonus upper
  bb_proximity_mult: 1.02          # Bollinger lower-band proximity multiplier
  volume_surge_ratio: 1.2          # Volume ratio threshold for surge bonus
  bounce_signal_min: 40.0          # Minimum bounce score to signal
  # Per-signal score weights
  score_rsi_reversal: 40.0
  score_rsi_depth: 15.0
  score_bb_proximity: 25.0
  score_volume_surge: 10.0
  score_price_reversal: 10.0
